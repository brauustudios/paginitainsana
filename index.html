<!DOCTYPE html>
<html>

<head>
       
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
           
    <meta http-equiv="Content-Security-Policy"        
        content="default-src 'none'; style-src 'unsafe-inline'; img-src data:; connect-src 'self' https://*.firebaseio.com https://www.gstatic.com;">
        <title>Página no encontrada</title>
        
        <style type="text/css" media="screen">
        /* Tu CSS original de la 404. He quitado todo el CSS del login "emo". */
        body {
            background-color: #f1f1f1;
            margin: 0;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        }

        .container {
            margin: 50px auto 40px auto;
            width: 600px;
            text-align: center;
        }

        a {
            color: #4183c4;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        h1 {
            width: 800px;
            position: relative;
            left: -100px;
            letter-spacing: -1px;
            line-height: 60px;
            font-size: 60px;
            font-weight: 100;
            margin: 0px 0 50px 0;
            text-shadow: 0 1px 0 #fff;
        }

        p {
            color: rgba(0, 0, 0, 0.5);
            margin: 20px 0;
            line-height: 1.6;
        }

        ul {
            list-style: none;
            margin: 25px 0;
            padding: 0;
        }

        li {
            display: table-cell;
            font-weight: bold;
            width: 1%;
        }

        .logo {
            display: inline-block;
            margin-top: 35px;
        }

        .logo-img-2x {
            display: none;
        }

        @media only screen and (-webkit-min-device-pixel-ratio: 2),
        only screen and (min--moz-device-pixel-ratio: 2),
        only screen and (-o-min-device-pixel-ratio: 2/1),
        only screen and (min-device-pixel-ratio: 2),
        only screen and (min-resolution: 192dpi),
        only screen and (min-resolution: 2dppx) {
            .logo-img-1x {
                display: none;
            }

            .logo-img-2x {
                display: inline-block;
            }
        }

        #suggestions {
            margin-top: 35px;
            color: #000000;
        }

        #suggestions a {
            color: #666666;
            font-weight: 200;
            font-size: 14px;
            margin: 0 10px;
        }

        /* --- FIN DEL CSS --- */
    </style>
         
</head>

<body>

            
        <div class="container">
        <h2>ERROR</h2>
                <h1>404</h1>
                <p><strong>Lo sentimos, no pudimos encontrar la página que buscas en nuestros servidores.</strong></p>
                <p>
                        Si estás intentando acceder a tu proyecto de <strong>BrauuStudios</strong> 
                        <a href="https://docs.brauustudios.com/pages-setup/">lee la documentation completa</a>
                        para saber cómo configurar correctamente tu despliegue.
                    </p>
            <h4>perdón, perdón por todo, te lo juro ahora si que ya no molestare, ya no seguire con nada :(, no dire nada de lo que siento porque perfectamente debes saber como me siento, porque al menos antes de decir,
                 contar o mandarte algo si pienso en como 
                 te puedes sentir, pero creo que eso para mi no aplica :(, perdóname, perdón, me sentía mal y tu me seguiste contando de tu peda, cuando 
                 ni siquiera quiero pensar cosas que no quiero y hubieramos podido platicar otra cosa pero pues nop :(, perdóname enserio por todo, perdón por haberte dado amor, y perdón por haber insistido tanto,
                  yo pensé que talvez me podrías valorar, pensé que querias arreglar las cosas conmigo algo pero ya vi que no, nomas querias hacerme sentir mal o no lo se realmente pero yo no puedo estar llorando y sintiendome asi por cosas que tu no ves :( pero te deseo lo mejor. espero encuentres a alguien que si te ame como tu quieres, te deseo toda la suerte en todo lo que hagas y perdon. :')</h4>
                        <div id="user-status"            
            style="font-size: 18px; color: #333; margin-top: 25px; padding: 10px; background-color: #fff; border-radius: 5px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); display: none;">
                                </div>

                <div id="suggestions">
                        <a href="https://status.brauustudios.com">Estado del Servicio - ELIMINADO </a> &mdash;
                        <a href="https://twitter.com/brauustudios">@GitHubSupport</a>
                    </div>
                
                <a href="/" class="logo logo-img-1x">
                        <img width="32" height="32" title="BrauuStudios" alt="BrauuStudios Logo"                
                src="https://i.ibb.co/6JXjLJhP/918-sin-titulo-20241204174035.png">
                    </a>
               
            </div>

       
           
    <script type="module">
        // Importamos solo App y Realtime Database
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

        // Tu configuración de Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyDj2tNpNgiZPWtTYKotGq3ULALzJltHOKM", // <-- ¡REGENERA ESTO!
            authDomain: "pagina-81a41.firebaseapp.com",
            databaseURL: "https://pagina-81a41-default-rtdb.firebaseio.com",
            projectId: "pagina-81a41",
            storageBucket: "pagina-81a41.firebasestorage.app",
            messagingSenderId: "803503362455",
            appId: "1:803503362455:web:ebf1271cf65943210174d2",
        };

        // Inicializar Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        // Obtenemos solo el div de estado
        const userStatusDiv = document.getElementById('user-status');

        // Variable para guardar el usuario
        let currentUser = localStorage.getItem('username');

        /**
         * Función para registrar la visita en Firebase
         */
        async function logVisit(username) {
            try {
                const logEntry = {
                    user: username, // Será "braw", "emocat" o "anonimo"
                    timestamp: new Date().toISOString(),
                    page: '404'
                };
                // Lo guardamos en tu ruta
                await push(ref(db, 'visitas_pagina_eliminada'), logEntry);
                console.log("Visita registrada en Firebase:", logEntry);
            } catch (error) {
                console.error("Error al registrar la visita en Firebase:", error);
            }
        }

        // --- LÓGICA DE INICIO (CORREGIDA) ---
        // Ya no hay login emergente

        if (currentUser) {
            // CASO 1: El usuario SÍ tiene un nombre en localStorage
            // (Asumimos que lo puso tu otra página, "emo")
            userStatusDiv.textContent = ``;
            userStatusDiv.style.display = 'block';
            // Registramos la visita con su nombre
            logVisit(currentUser);

        } else {
            _     // CASO 2: No hay usuario en localStorage.
            // Lo tratamos como "anonimo" automáticamente.
            currentUser = 'anonimo';
            userStatusDiv.textContent = `Usuario anónimo. (Página no encontrada)`;
            userStatusDiv.style.display = 'block';
            // Registramos la visita como "anonimo"
            logVisit(currentUser);
        }

        // Ya no necesitamos la función login() ni los event listeners

    </script>
</body>

</html>
